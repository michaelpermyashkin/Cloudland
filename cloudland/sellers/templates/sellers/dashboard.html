<!-- Extends base template  -->
{% extends "store/base.html" %}
<!-- Loads static content to access content in static directory -->
{% load static %}
<!-- Page title for window tab -->
{% block page %}Dashboard{% endblock page%}
<!-- Custom style sheet -->
{% block styles %}
<link href="{% static 'accounts/css/dashboard-styles.css' %}" rel="stylesheet"> {% endblock styles %}
<!-- fills content block in base template -->
{% block content %}
<div class="container">
    <div class="my-4 text-center">
        <h2>My Account</h2>
    </div>
    <hr>
    <div class="row justify-content-center">
        <div class="col-md-7 order-md-1">
            <h3 class="text-center">My Products</h3>
            <!-- If no products in query set display message -->
            {% if products.count == 0 %}
            <br>
            <h2 class="text-center">Oops, we didn't find any products matching your search!</h2>
            {% endif %}
            <div class="row" id="main">
                {% for product in products %}
                <div class="col-lg-3 col-md-4 col-sm-6 col-xs-4 my-auto">
                    <a href="{% url 'store-view-item' product.product_id %}" class="card h-100 rounded-0 border-0 product-card">
                        <div class="img-wrapper">
                            <div class="image">
                                <!-- Load first 10 images right away -->
                                {% if forloop.counter > 10 %}
                                <!-- The images after the first 10 are loaded when the page is scrolled -->
                                <img class="card-img-top rounded-0 img-responsive lazy" data-src="{{ product.product_image.url }}" id="card-image" alt="Product Image">
                                <!--  -->
                                {% else %}
                                <img class="card-img-top rounded-0 img-responsive" src="{{ product.product_image.url }}" id="card-image" alt="Product Image">
                                <!--  -->
                                {% endif %}
                            </div>
                            <div class="img-overlay">
                                <div class="btn" id="btn-view-item">VIEW</div>
                            </div>
                        </div>
                        <div class="card-body text-center">
                            <h4 class="card-title">
                                <a id="product-name">{{ product.product_name }}</a>
                            </h4>
                            <p id="seller-name">// {{product.seller.seller_listing_name }} //</p>
                            <p class="card-text" id="product-description">{{ product.description_short }}</p>
                            <h5 id="product-price">${{ product.price | floatformat:2 }}</h5>
                        </div>
                    </a>
                </div>
                {% endfor %}
            </div>
        </div>
    </div>
    <div class="text-right">
        <a href="{% url 'accounts-logout' %}" class="btn btn-danger mt-5 rounded-0">Logout</a>
    </div>
</div>
{% endblock content %}